<?php
error_reporting(E_ALL);
ini_set('display_errors', 1);
date_default_timezone_set('America/Los_Angeles');
?>
<!DOCTYPE HTML>
<html>
<head>
<title>novasyte health :: Integrated services. Superior outcomes.</title>
<meta name="Author" content="" />
<meta name="Keywords" content="" />
<meta name="Description" content="" />
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0" />
<link rel="shortcut icon" href="i/favicon.ico" type="image/x-icon">
<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="css/form.css" rel="stylesheet" type="text/css">
<link href="css/timepicki.css" rel="stylesheet">
 <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<style type="text/css">
      /* Style the calendar custom widget */
      #date-range {
        position:relative;
		clear:both;
      }
    #date-range-field {
      border: 1px solid #c8c8c8;
    border-radius: 0px !important;
    box-sizing: border-box;
    color: #2c3e50;
    font-size: 13px;
    line-height: 18px;
    margin-bottom: 20px;
    padding: 5px;
    width: 93%;
	cursor:pointer;
      }
  #date-range-field a  {
   color: #b2b2b2;
    display: block;
    height: 23px;
    position: absolute;
    right: 34px;
    text-align: center;
    text-decoration: none;
    top: 10px;
      }
    #date-range-field span {
        font-size: 12px;
        font-weight: bold;
        color: #404040;
        position: relative;
        top: 0;
        height: 26px;
        line-height: 26px;
        left: 5px;
        width: 250px;
        text-align: center;
		font-family: "Roboto", Helvetica, Arial, sans-serif;
      }

      #datepicker-calendar {
background-color: #f7f7f7;
    border: 1px solid #cccccc;
    border-radius: 0 5px 5px;
    display: none;
    height: 161px;
    left: 0;
    overflow: hidden;
    padding: 10px 0 0 10px;
    position: absolute;
    top: 33px;
    width: 468px;
    z-index: 999;
      }

      /* Remove default border from the custom widget since we're adding our own.  TBD: rework the dropdown calendar to use the default borders */
      #datepicker-calendar div.datepicker {
        background-color: transparent;
      border: none;
      border-radius: 0;
      padding: 0;
    }

	      #travel-calendar {
background-color: #f7f7f7;
    border: 1px solid #cccccc;
    border-radius: 0 5px 5px;
    display: none;
    height: 161px;
    left: 0;
    overflow: hidden;
    padding: 10px 0 0 10px;
    position: absolute;
    top: 33px;
    width: 468px;
    z-index: 999;
      }

      /* Remove default border from the custom widget since we're adding our own.  TBD: rework the dropdown calendar to use the default borders */
      #travel-calendar div.datepicker {
        background-color: transparent;
      border: none;
      border-radius: 0;
      padding: 0;

    }

	 #travel-date-range-field {
         border: 1px solid #c8c8c8;
    border-radius: 0px !important;
    box-sizing: border-box;
    color: #2c3e50;
    font-size: 13px;
    line-height: 18px;
    margin-bottom: 20px;
    padding: 5px;
    width: 93%;
	cursor:pointer;
      }
      #travel-date-range-field a  {
         color: #b2b2b2;
    display: block;
    height: 23px;
    position: absolute;
    right: 34px;
    text-align: center;
    text-decoration: none;
    top: 10px;
      }
      #travel-date-range-field span {
     font-size: 12px;
        font-weight: bold;
        color: #404040;
        position: relative;
        top: 0;
        height: 26px;
        line-height: 26px;
        left: 5px;
        width: 250px;
        text-align: center;
		font-family: "Roboto", Helvetica, Arial, sans-serif;
      }

    </style>
<?php
	if(stristr($_SERVER['HTTP_USER_AGENT'], "Mobile")){ // if mobile browser
?>
<style>
.ui-loader h1 {display: none;}
#division-button span {display: none;}

#assignment-button span{ display:none;}
#vendorcred-button span{ display:none;}
#state-button span{ display:none;}


</style>
<?php
	}
?>
</head>

<body>
<div id="wrapper">
  <div class="bg-top">
    <div class="page-w"><a href="/"><img src="img/logo.png" alt="logo"> </a></div>
  </div>
  <div class="page-w">
    <div class="client-logo"><img src="img/client-logo.jpg" width="380" height="81" alt="client-logo"></div>
    <div class="checkout-wrap">
      <ul class="checkout-bar" id="progressbar">
        <li class="active first stepot"> Contact Info </li>
        <li class="steptt">Products</li>
        <li class="stepttr">Assignment Details</li>
      </ul>
    </div>
    <form id="msform" method="post" action="">
      <fieldset id="fieldset">
        <div class="title">
          <h2 class="fs-title">Contact Info</h2>
        </div>
        <div class="form-l">
          <label>First Name</label>
          <input type="text" name="firstname" id="firstname" tabindex="1"/>
		  <p class="errors firstname" style="display:none;"></p>
          <label>Title</label>
          <input type="text" name="title"  tabindex="3" id='title'/>
		  <p class="errors titles" style="display:none;"></p>
          <label>Phone</label>
          <input type="text" name="phone"  tabindex="4" id='phone'/>
		  <p class="errors phone" style="display:none;"></p>
          <label>Division</label>

          <select name="division" tabindex="6" id="division">
            <option value="Infusion">Infusion</option>
             <option value="Vascular">Vascular</option>
          </select>


        </div>
        <div class="form-r">
          <label>Last Name</label>
          <input type="text" name="lastname" tabindex="2" id='lastname' />
		  <p class="errors lastname" style="display:none;"></p>
          <label class="email">Email</label>
          <input type="text" name="email" tabindex="5" id='email'/>
		  <p class="errors emails" style="display:none;"></p>
		 <div class="btns-box"><input type="button" name="next" id="firststep" class="nextprogress next" value="Next »"/></div>
        </div>
      </fieldset>
      <fieldset id="fieldset2">
      	<div id="critical" style="display: none;">
        <div class="title">
          <h2 class="fs-title">Vascular<br>
            Products</h2>
        </div>
        <div class="form-l">
          <label data-role="none">Product(s)</label>
          <div class="clear"></div>
          <label class="ckbx-l" data-role="none"><input type="checkbox" value="Saf-T-Wing" data-role="none" name='products[]'>Saf-T-Wing</label>
          <label class="ckbx-l" data-role="none"><input type="checkbox" data-role="none" value="Via Valve" name='products[]'>Via Valve</label>
          <label class="ckbx-l" data-role="none"><input type="checkbox"  data-role="none" value="ProtectIV Plus" name='products[]'>ProtectIV Plus</label>
		 <p class="errors products1" style="display:none;clear:both"></p>
        </div>
        <div class="clear"></div>
        <br>
        <br>
        <br>
        <br>
        </div>
        <div id="infusion">
        <div class="title">
          <h2 class="fs-title">Infusion<br>
            Products</h2>
        </div>
        <div class="form-l">
          <label data-role="none">Product(s)</label>
          <div class="clear"></div>
          <label class="ckbx-l">
            <input data-role="none" type="checkbox" value="CADD®-Solis" name="products[]">
            CADD®-Solis</label>
          <label data-role="none" class="ckbx-l">
            <input data-role="none" type="checkbox" value="CADD®-Solis VIP" name="products[]">
            CADD®-Solis VIP</label>
          <label data-role="none" class="ckbx-l">
            <input data-role="none" type="checkbox" value="Medfusion® 4000" name="products[]">
            Medfusion® 4000</label>
          <label class="ckbx-l">
            <input data-role="none" type="checkbox" value="Medfusion® v6" name="products[]">
            Medfusion® v6</label>
          <label data-role="none" class="ckbx-l">
            <input  data-role="none" type="checkbox" value="Medfusion® v5" name="products[]">
            Medfusion® v5</label>
          <label data-role="none" class="ckbx-l">
            <input data-role="none" type="checkbox" value="Medfusion® PASS" name="products[]">
            Medfusion® PASS</label>
			<p class="errors products1" style="display:none;clear:both"></p>
        </div>

        </div>

           <div class="clear"></div>

          <div class="title">
          <h2 class="fs-title">&nbsp;</h2>
        </div>
          <div class="full">
          <div class="btns-box">
		  <input type="button" name="previous" class="previousprogress action-button" value="&laquo; Previous" style="float:left;"/>
          <input type="button" name="next" id="secondstep" class="nextprogress action-button submit" value="Next »"/>
          </div>
        </div>
      </fieldset>
      <fieldset id="fieldset3">
        <div class="title">
          <h2 class="fs-title">Assignment<br>
            Details</h2>
        </div>
        <div class="form-l">
          <label>Assignment Type</label>
          <select name="assignment" id="assignment">
            <option value="">-- Select --</option>
            <option value="Conversion">Conversion</option>
	    <option value="Customer Care">Customer Care</option>
	    <option value="Education">Education</option>
            <option value="Evaluation">Evaluation</option>
	    <option value="Follow-Up">Follow-Up</option>
	    <option value="Implementation">Implementation</option>
          </select>
		  <p class="errors assignment" style="display:none;"></p>
        </div>
        <div class="form-r">
          <label>Vendor Credentialing</label>
          <select name="vendorcred" id="vendorcred">
	    <option value="">-- Select --</option>
	    <option value="Internal">Internal</option>
	    <option value="Parallon">Parallon</option>
	    <option value="Reptrax">Reptrax</option>
	    <option value="VCS/Symplr">VCS/Symplr</option>
            <option value="Vendormate">Vendormate</option>
			<option value="Other">Other</option>
          </select>
		  <p class="errors vendorcred" style="display:none;"></p>
        </div>
		<div class="clear"></div>
        <div class="title">&nbsp;</div>
        <div class="form-l autoc-contain">
          <label>Facility Name(s)</label>
	  <input type="text" name="facility" id="facility-select" />
      <div id="update" class="autoc" style="display:none;"></div>
	  <p class="errors facility-select" style="display:none;"></p>
        </div>

           <div class="form-r">
          <label>City</label>
          <input type="text" name="city" id="city"  />
		  <p class="errors city" style="display:none;"></p>
        </div>
		<div class="clear"></div>
        <div class="title">&nbsp;</div>

        <div class="form-l">
          <label>State</label>
		<select name="state" id="state">
	<option value=''>-- Select --</option>
	<option value="AL">Alabama</option>
	 <option value="AK">Alaska</option>
	 <option value="AZ">Arizona</option>
	 <option value="AR">Arkansas</option>
	 <option value="CA">California</option>
	 <option value="CO">Colorado</option>
	 <option value="CT">Connecticut</option>
	 <option value="DE">Delaware</option>
	 <option value="DC">District Of Columbia</option>
	 <option value="FL">Florida</option>
	 <option value="GA">Georgia</option>
	 <option value="HI">Hawaii</option>
	 <option value="ID">Idaho</option>
	 <option value="IL">Illinois</option>
	 <option value="IN">Indiana</option>
	 <option value="IA">Iowa</option>
	 <option value="KA">Kansas</option>
	 <option value="KY">Kentucky</option>
	 <option value="LA">Louisiana</option>
	 <option value="ME">Maine</option>
	 <option value="MD">Maryland</option>
	 <option value="MA">Massachusetts</option>
	 <option value="MI">Michigan</option>
	 <option value="MN">Minnesota</option>
	 <option value="MS">Mississippi</option>
	 <option value="MO">Missouri</option>
	 <option value="MT">Montana</option>
	 <option value="NE">Nebraska</option>
	 <option value="NV">Nevada</option>
	 <option value="NH">New Hampshire</option>
	 <option value="NJ">New Jersey</option>
	 <option value="NM">New Mexico</option>
	 <option value="NY">New York</option>
	 <option value="NC">North Carolina</option>
	 <option value="ND">North Dakota</option>
	 <option value="OH">Ohio</option>
	 <option value="OK">Oklahoma</option>
	 <option value="OR">Oregon</option>
	 <option value="PA">Pennsylvania</option>
	 <option value="RI">Rhode Island</option>
	 <option value="SC">South Carolina</option>
	 <option value="SD">South Dakota</option>
	 <option value="TN">Tennessee</option>
	 <option value="TX">Texas</option>
	 <option value="UT">Utah</option>
	 <option value="VT">Vermont</option>
	 <option value="VA">Virginia</option>
	 <option value="WA">Washington</option>
	 <option value="WV">West Virginia</option>
	 <option value="WI">Wisconsin</option>
	 <option value="WY">Wyoming</option>
	</select>
	<p class="errors state" style="display:none;"></p>
        </div>
           <div class="form-r">
          <label>Zip Code</label>
          <input type="text" name="zipcode"  id="zipcode"/>
		  <p class="errors zipcode" style="display:none;"></p>
        </div>
		<div class="clear"></div>
        <div class="clear"></div>
        <div class="title">&nbsp;</div>
          <div class="form-l">
            <label>Project Dates</label>
			<div id="date-range">
					<div id="date-range-field" style="border-bottom-left-radius: 5px; border-bottom-right-radius: 5px;">
              <span></span>
              <a href="#" style="border-bottom-right-radius: 5px;">▼</a>
            </div>
					<div id="datepicker-calendar">
					</div>
				</div>
          <p class="errors projectdates" style="display:none;"></p>
          </div>
		  <input type="hidden" value="" id="projectdates" name="projectdates"/>
          <div class="clear"></div>
             <div class="title">&nbsp;</div>
          <div class="form-l">
            <label>Travel Dates</label>
            <div id="date-range">
					<div id="travel-date-range-field" style="border-bottom-left-radius: 5px; border-bottom-right-radius: 5px;">
              <span></span>
              <a href="#" style="border-bottom-right-radius: 5px;">▼</a>
            </div>
					<div id="travel-calendar">
					</div>
				</div>
			<p class="errors traveldates" style="display:none;"></p>
          </div>
		  <input type="hidden" value="" id="traveldates" name="traveldates"/>
             <div class="form-ln">
            <!--p>Applicable only if different than Project Start Date and Project End Date</p-->
          </div>


        <div class="clear"></div>
        <div class="title">&nbsp;</div>
		 <label class="shifts">Shifts</label>
		 <div id='clone'><div class="full"><div class="choose-txt">Please choose project dates above.</div></div></div>
		<!-- clone area -->
		<!--<div class="clear"></div>
        <a href="javascript:void(0)" class="right add" >+ Add Another Shift</a>-->

        <div class="clear"></div>
        <div class="title">&nbsp;</div>
        <div class="txt-area">
		<p style="display:none;" class="errors dates1"></p>
		<p style="display:none;" class="errors no_of_people1"></p>
          <label>Additional Details</label>
          <textarea name="additional_det" cols="" rows="5" id="additional_det"></textarea>

  <div class="clear"></div>
  <div class="btns-box">
          <input type="button" name="previous" class="previousprogress action-button" value="&laquo; Previous" style="float:left;"/>
          <input type="button" name="next" class="nextprogress action-button submit" id="submit" value="Submit »"/>


          </div>
        </div>

      </fieldset>
	  <fieldset id="fieldset4">
		  <div class="details-div">
		        <h4><span class="b-colo">Thank you for submitting your assignment request, your information has been received. Please check your email for a receipt of your assignment request.</span></h4>
		  <hr>
		  <h2 class="details-title">Contact Info</h2>
		  <div class="dform-l">
			<p><b>First Name :</b> Bratt</p>
			<p><b>Title :</b> Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
			<p><b>Phone :</b> 123-456-7890</p>
			<p><b>Division :</b> Infusion</p>
		  </div>
		  <div class="dform-r">
			<p><b>Last Name :</b> Neinghs</p>
			<p>&nbsp;</p>
			<p><b>Email :</b> brattneg@yahoo.com</p>
		  </div>
		  <div class="clear"></div>
		  <hr>
		  <h2 class="details-title">Infusion Products</h2>
		  <div class="dform-l">
			<p><b>Product(s) :</b> CADD®-Solis</p>
		  </div>
		  <div class="clear"></div>
		  <hr>
		  <h2 class="details-title">Assignment Details</h2>
		  <div class="dform-l">
			<p><b>Assignment Type :</b> Implementation</p>
			<p><b>Facility Name(s) :</b> Huntsville Hosp for Women and Children - Huntsville AL</p>
			<p><b>State :</b> Alabama</p>
			<p><b>Project Dates :</b> 20 July, 2016 - 20 July, 2016</p>
			<p><b>Travel Dates :</b> 20 July, 2016 - 20 July, 2016</p>
			<p><b>Shifts :</b> 7/27/2016, From 7:00AM to 5:00PM, 12 People</p>
		  </div>
		  <div class="dform-r">
			<p><b>Vendor Credentialing :</b> Vendormate</p>
			<p><b>City :</b> Huntsville</p>
			<p><b>Zip Code :</b> 35801</p>
		  </div>
		  <div class="clear"></div>
		  <p><b>Additional Details :</b> Lorem Ipsum is simply dummy text of the printing and typesetting industry. </p>
		  <div class="clear"></div>
		  <hr>
		</div>
	  </fieldset>
    </form>

  </div>
</div>
</body>
</html>
<script src="js/jquery-1.11.0.min.js"></script>
<!-- jQuery easing plugin -->
<script src="js/jquery.easing.1.3.js" type="text/javascript"></script>
 <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

<?php
	if(stristr($_SERVER['HTTP_USER_AGENT'], "Mobile")){ // if mobile browser
?>
  <script src="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <script>
$(function(){
$('.ui-shadow').html($('.ui-shadow').html().replace('Next »',''));
    // Bind the swiperightHandler callback function to the swipe event on div.box
  $( "#fieldset" ).on( "swipeleft", firststepswipeleft );

  // Callback function references the event target and adds the 'swiperight' class to it
		  function firststepswipeleft( event ){

		var msg='';
		if($('#firstname').val() == ""){
		$('.firstname').show();
		$('.firstname').html('First Name is required.');
		msg = 1;
		}else{
		$('.firstname').hide();
		$('.firstname').html('');

		}
		if($('#lastname').val() == ""){
		$('.lastname').show();
		$('.lastname').html('Last Name is required.');
		msg = 1;
		}else{
		$('.lastname').hide();
		$('.lastname').html('');
		}
		if($('#title').val() == ""){

		$('.titles').show();
		$('.titles').html('* Title is required.');
		msg = 1;
		}else{
		$('.titles').hide();
		$('.titles').html('');
		}
		if($('#phone').val() == ""){
		$('.phone').show();
		$('.phone').html('Phone Number is required.');
		msg = 1;
		}else{
		$('.phone').hide();
		$('.phone').html('');
		}
		if($('#email').val() == ""){
		$('.emails').show();
		$('.emails').html('E-mail is required.');
		msg = 1;
		}else{
		$('.emails').hide();
		$('.emails').html('');
		}

		if($('#email').val() != ""){
		var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
			if (filter.test($('#email').val())) {
				$('.emails').hide();
				$('.emails').html('');
			}
			else {
				$('.emails').show();
				$('.emails').html('Valid E-mail is required.');
				msg = 1;
			}

		}

		if(msg != ''){
			return false;
		}else{
			nextt('firststep');
			return true;
		}
  }

  $( "#fieldset2" ).on( "swiperight", secondstepswiperight );

  function secondstepswiperight(){
  previous("fieldset2");
  }

  $("#fieldset2").on("swipeleft", secondstepswipeleft);
  function secondstepswipeleft(){
	var smsg='';
	if ($("input[type='checkbox'][name='products[]']:checked").length == 0){
	smsg = 1;
	$('.products1').show();
	$('.products1').html('Please select Products.');
	}else{
	$('.products1').hide();
	$('.products1').html('');
	}

	if(smsg != ''){
		return false;
	}else{
		nextt('secondstep');
		return true;
	}
  }


  $( "#fieldset3" ).on( "swiperight", thirdstepswiperight );

  function thirdstepswiperight(){
  previous("fieldset3");
  }

  $("#fieldset3").on("swipeleft", thirdstepswipeleft);

		  function thirdstepswipeleft(){


		var msg='';

		if($('#date-range-field').find("span").text() == "Please select dates"){
		msg = 1;
		$('.projectdates').show();
		$('.projectdates').html('Please select Project Dates.');
		}else{
		$('.projectdates').hide();

		$('.projectdates').html('');
		}

		if($('#travel-date-range-field').find("span").text() == "Please select dates"){
		msg = 1;
		$('.traveldates').show();
		$('.traveldates').html('Please select Travel Dates.');
		}else{
		$('.traveldates').hide();
		$('.traveldates').html('');
		}

		if($('#assignment').val() == ""){
		msg = 1;
		$('.assignment').show();
		$('.assignment').html('Please select Assignment.');
		}else{
		$('.assignment').hide();
		$('.assignment').html('');
		}

		if($('#vendorcred').val() == ""){
		msg = 1;
		$('.vendorcred').show();
		$('.vendorcred').html('Please select Vendor Credentialing.');
		}else{
		$('.vendorcred').hide();
		$('.vendorcred').html('');
		}

		if($('#facility-select').val() == ""){
		msg = 1;
		$('.facility-select').show();
		$('.facility-select').html('Facility Name is required.');
		}else{
		$('.facility-select').hide();
		$('.facility-select').html('');
		}

		if($('#city').val() == ""){
		msg = 1;
		$('.city').show();
		$('.city').html('City is required.');
		}else{
		$('.city').hide();
		$('.city').html('');
		}

		if($('#state').val() == ""){
		msg = 1;
		$('.state').show();
		$('.state').html('Please select State.');
		}else{
		$('.state').hide();
		$('.state').html('');
		}

		if($('#zipcode').val() == ""){
		msg = 1;
		$('.zipcode').show();
		$('.zipcode').html('Zipcode is required.');
		}else{
		$('.zipcode').hide();
		$('.zipcode').html('');
		}

		$("input[type='text'][name='date[]']").each(function (index, elem) {

			if($(elem).val() == ""){
			msg = 1;
			$('.dates1').show();
			$('.dates1').html('Date is required.');
			}else{
			$('.dates1').hide();
			$('.dates1').html('');
			}
		});
		$("input[type='text'][name='noofpeople[]']").each(function (index, elem) {
			if($(elem).val() == ""){
			msg = 1;
			$('.no_of_people1').show();
			$('.no_of_people1').html('No.of People is required.');
			}else{
			$('.no_of_people1').hide();
			$('.no_of_people1').html('');
			}
		});



		if(msg != ''){
		return false;
		}else{
		var prod = [];
		$("input[name='products[]']:checked").each(function() {
			prod.push($(this).val());
		});

		var dt = [];
		$("input[name='date[]']").each(function() {
			dt.push($(this).val());
		});

		var tpf = [];
		$("select[name='timepickerfrom[]']").each(function() {
			tpf.push($(this).val());


		});
		var tpt = [];
		$("select[name='timepickerto[]']").each(function() {
			tpt.push($(this).val());
		});

		var nop = [];
		$("input[name='noofpeople[]']").each(function() {
			nop.push($(this).val());
		});

		var trav = $('#traveldates').val()
		trav = trav.replace("&", "nb");
					$.ajax
							({
								type: "GET",
								url: "getdetails.php",
								data: 'fname='+$('#firstname').val()+'&lname='+$('#lastname').val()+'&title='+$('#title').val()+'&phone='+$('#phone').val()+'&email='+$('#email').val()+'&division='+$('#division').val()+'&projectdates='+$('#projectdates').val()+'&traveldates='+trav+'&assignment='+$('#assignment').val()+'&vendorcred='+$('#vendorcred').val()+'&facility='+$('#facility-select').val()+'&city='+$('#city').val()+'&state='+$('#state').val()+'&zipcode='+$('#zipcode').val()+'&additional_det='+$('#additional_det').val()+'&products='+prod+'&dates='+dt+'&tfrom='+tpf+'&tto='+tpt+'&nop='+nop,
								cache: false,
								async:false,
								success: function(res)
								{
									$('.details-div').html(res);
								}
							});

		$(".stepttr").removeClass('stepttr').addClass('fstep');
		$(".fstep").removeClass('visited');
		nextt('submit');
		return true;
		}
  }

});


function previous(step){
	if(animating) return false;
	animating = true;

	current_fs = $('#'+step).closest("fieldset");
	previous_fs = $('#'+step).closest("fieldset").prev();
	//alert($("fieldset").index(current_fs));
	//alert($("fieldset").index(previous_fs));
	//de-activate current step on progressbar
	$("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
	$("#progressbar li").eq($("fieldset").index(previous_fs)).addClass("active");
		$("#progressbar li").eq($("fieldset").index(previous_fs)).removeClass("visited");

	//show the previous fieldset
	previous_fs.show();
	//hide the current fieldset with style
	current_fs.animate({opacity: 0}, {
		step: function(now, mx) {
			//as the opacity of current_fs reduces to 0 - stored in "now"
			//1. scale previous_fs from 80% to 100%
			scale = 0.8 + (1 - now) * 0.2;
			//2. take current_fs to the right(50%) - from 0%
			left = ((1-now) * 50)+"%";
			//3. increase opacity of previous_fs to 1 as it moves in
			opacity = 1 - now;
			current_fs.css({'left': left});
			previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
		},
		duration: 800,
		complete: function(){
			current_fs.hide();
			animating = false;
		},
		//this comes from the custom easing plugin
		easing: 'easeInOutBack'
	});
}
</script>
<?php
}
?>
	<script type="text/javascript" src="js/datepicker/js/datepicker.js"></script>
<link rel="stylesheet" type="text/css" href="js/datepicker/css/base.css" />
<link rel="stylesheet" type="text/css" href="js/datepicker/css/clean.css" />
    <script>
	function timepicker(k){

		var newselectedIndex = $(k).val();
		//alert(newselectedIndex);
		//$("#timepicker_"+k+" option:selected").removeAttr("selected");
		//$("#timepicker_"+k).find('option').removeAttr("selected");
		//$("#timepicker_"+k).find('option:selected').prop("selected", false);
		//$('#timepicker_'+k+' option:selected').removeAttr('selected');
		//
		//$("#timepicker_"+k+" option[value='"+newselectedIndex +"']").attr('selected', 'selected');

//$("#timepicker_"+k).val(newselectedIndex);
 $(k).find("option").removeAttr("selected");
 $(k).val(newselectedIndex);
 $("option[value='"+newselectedIndex +"']",k).attr('selected', 'selected');
	//	$('#timepicker_'+k).removeAttr('selected');
	}
	function remove_row(k){

		$('#duplicate_'+k).remove();
	}
$('body').on('click', '.adds', function(){
var d = new Date();
var n = d.getMilliseconds();
var id = $(this).attr('id');

var split = id.split('_');


var clonedDiv = $('div#'+id).clone().attr('id','duplicate_'+n);
clonedDiv.find('a#'+id).attr({id: 'duplicate_'+n});
clonedDiv.find('#datepicker'+split[1]).attr({id: 'datepicker'+n});

clonedDiv.find('.calendar-icon,.hasDatepicker').attr({class: 'calendar-icon'});
$(clonedDiv).insertAfter("div#"+id+":last");
$( "datepicker"+n ).datepicker();

});
        /* Special date widget */
        var from = new Date();
        var to = new Date(from.getTime() + 1000 * 60 * 60 * 24 * 1);

        $('#datepicker-calendar').DatePicker({
          inline: true,
          calendars: 3,
          mode: 'multiple',
          current: new Date(to.getFullYear(), to.getMonth() + 1, 1),
          onChange: function(dates,el) {
			if(dates == ""){
				$('#date-range-field span').text('Please select dates');
				$("#clone").html('<div class="full"><div class="choose-txt">Please choose project dates above.</div></div>');
			}

            // update the range display



			var clone2='';
			var largest= '';
			for(var i = 0; i < dates.length; i++){

					if (dates[i]>largest) {
							var largest=dates[i];
						}
				 var month_ch = ("0" + (dates[i].getMonth() + 1)).slice(-2);

				var date_ch = ("0" + (dates[i].getDate())).slice(-2);


				var new_date = month_ch+'/'+date_ch+'/'+dates[i].getFullYear();
clone2 += '<div class="title">&nbsp;</div><div class="full" id="duplicate_'+i+'"><div class="form-tdn"><label>Date</label><input type="text" name="date[]" class="calendar-icon" id="datepicker'+i+'" value="'+new_date+'"/></div><div id="fromto_'+i+'"><div class="form-tdn"><label>From</label><select name="timepickerfrom[]" onchange="timepicker(this)"><option value="8:00 AM" selected="selected">8:00 AM</option><option value="8:15 AM">8:15 AM</option><option value="8:30 AM">8:30 AM</option><option value="8:45 AM">8:45 AM</option><option value="9:00 AM">9:00 AM</option><option value="9:15 AM">9:15 AM</option><option value="9:30 AM">9:30 AM</option><option value="9:45 AM">9:45 AM</option><option value="10:00 AM">10:00 AM</option><option value="10:15 AM">10:15 AM</option><option value="10:30 AM">10:30 AM</option><option value="10:45 AM">10:45 AM</option><option value="11:00 AM">11:00 AM</option><option value="11:15 AM">11:15 AM</option><option value="11:30 AM">11:30 AM</option><option value="11:45 AM">11:45 AM</option><option value="12:00 PM">12:00 PM</option><option value="12:15 PM">12:15 PM</option><option value="12:30 PM">12:30 PM</option><option value="12:45 PM">12:45 PM</option><option value="1:00 PM">1:00 PM</option><option value="1:15 PM">1:15 PM</option><option value="1:30 PM">1:30 PM</option><option value="1:45 PM">1:45 PM</option><option value="2:00 PM">2:00 PM</option><option value="2:15 PM">2:15 PM</option><option value="2:30 PM">2:30 PM</option><option value="2:45 PM">2:45 PM</option><option value="3:00 PM">3:00 PM</option><option value="3:15 PM">3:15 PM</option><option value="3:30 PM">3:30 PM</option><option value="3:45 PM">3:45 PM</option><option value="4:00 PM">4:00 PM</option><option value="4:15 PM">4:15 PM</option><option value="4:30 PM">4:30 PM</option><option value="4:45 PM">4:45 PM</option><option value="5:00 PM">5:00 PM</option></select></div><div class="form-tdn"><label>To &nbsp;</label><select name="timepickerto[]" onchange="timepicker(this)"><option value="8:00 AM">8:00 AM</option><option value="8:15 AM">8:15 AM</option><option value="8:30 AM">8:30 AM</option><option value="8:45 AM">8:45 AM</option><option value="9:00 AM">9:00 AM</option><option value="9:15 AM">9:15 AM</option><option value="9:30 AM">9:30 AM</option><option value="9:45 AM">9:45 AM</option><option value="10:00 AM">10:00 AM</option><option value="10:15 AM">10:15 AM</option><option value="10:30 AM">10:30 AM</option><option value="10:45 AM">10:45 AM</option><option value="11:00 AM">11:00 AM</option><option value="11:15 AM">11:15 AM</option><option value="11:30 AM">11:30 AM</option><option value="11:45 AM">11:45 AM</option><option value="12:00 PM">12:00 PM</option><option value="12:15 PM">12:15 PM</option><option value="12:30 PM">12:30 PM</option><option value="12:45 PM">12:45 PM</option><option value="1:00 PM">1:00 PM</option><option value="1:15 PM">1:15 PM</option><option value="1:30 PM">1:30 PM</option><option value="1:45 PM">1:45 PM</option><option value="2:00 PM">2:00 PM</option><option value="2:15 PM">2:15 PM</option><option value="2:30 PM">2:30 PM</option><option value="2:45 PM">2:45 PM</option><option value="3:00 PM">3:00 PM</option><option value="3:15 PM">3:15 PM</option><option value="3:30 PM">3:30 PM</option><option value="3:45 PM">3:45 PM</option><option value="4:00 PM">4:00 PM</option><option value="4:15 PM">4:15 PM</option><option value="4:30 PM">4:30 PM</option><option value="4:45 PM">4:45 PM</option><option value="5:00 PM" selected="selected">5:00 PM</option></select></div></div><div class="form-tdn"><label>Number of People</label><input type="text" name="noofpeople[]"></div><a class="right adds" href="javascript:void(0)" id="duplicate_'+i+'">Duplicate</a><a href="javascript:void(0)" class="right remove" id="remove_'+i+'" onclick="remove_row('+i+')">Remove Shift</a></div>';


$( "#datepicker"+i ).datepicker();
			}

			$('#date-range-field span').text(dates[0].getDate()+' '+dates[0].getMonthName(true)+', '+dates[0].getFullYear()+' - '+
                                        largest.getDate()+' '+largest.getMonthName(true)+', '+largest.getFullYear());
			$('#projectdates').val(dates[0].getDate()+' '+dates[0].getMonthName(true)+', '+dates[0].getFullYear()+' - '+
                                        largest.getDate()+' '+largest.getMonthName(true)+', '+largest.getFullYear());
			$("#clone").html(clone2);
          }
        });


		$('#travel-calendar').DatePicker({
          inline: true,
          calendars: 3,
          mode: 'range',
          current: new Date(to.getFullYear(), to.getMonth() + 1, 1),
          onChange: function(dates,el) {

            // update the range display
			if(dates == ""){
				$('#travel-date-range-field span').text('Please select dates');
			}


			var largest= '';
			for(var i = 0; i < dates.length; i++){
				//alert(dates[i]);
					if (dates[i]>largest) {
							var largest=dates[i];
						}
			}
            $('#travel-date-range-field span').text(dates[0].getDate()+' '+dates[0].getMonthName(true)+', '+dates[0].getFullYear()+' & '+
                                        largest.getDate()+' '+largest.getMonthName(true)+', '+largest.getFullYear());
			$('#traveldates').val(dates[0].getDate()+' '+dates[0].getMonthName(true)+', '+dates[0].getFullYear()+' & '+
                                        largest.getDate()+' '+largest.getMonthName(true)+', '+largest.getFullYear());

          }
        });

        // initialize the special date dropdown field
        $('#date-range-field span').text('Please select dates');
		$('#travel-date-range-field span').text('Please select dates');
        var from_month = ("0" + (from.getMonth() + 1)).slice(-2);
		  var to_month   =("0" + (to.getMonth() + 1)).slice(-2);

		  var from_date = ("0" + (from.getDate())).slice(-2);
		  var to_date = ("0" + (to.getDate())).slice(-2);

		  $('#datepicker3').val(from_month+'/'+from_date+'/'+from.getFullYear());
		  $('#datepicker2').val(to_month+'/'+to_date+'/'+to.getFullYear());

        // bind a click handler to the date display field, which when clicked
        // toggles the date picker calendar, flips the up/down indicator arrow,
        // and keeps the borders looking pretty
        $('#date-range-field').bind('click', function(){
          $('#datepicker-calendar').toggle();

          if($('#date-range-field a').text().charCodeAt(0) == 9660) {
            // switch to up-arrow
            $('#date-range-field a').html('&#9650;');
            $('#date-range-field').css({borderBottomLeftRadius:0, borderBottomRightRadius:0});
            $('#date-range-field a').css({borderBottomRightRadius:0});
          } else {
            // switch to down-arrow
            $('#date-range-field a').html('&#9660;');
            $('#date-range-field').css({borderBottomLeftRadius:5, borderBottomRightRadius:5});
            $('#date-range-field a').css({borderBottomRightRadius:5});
          }
          return false;
        });

		$('#travel-date-range-field').bind('click', function(){

		  $('#travel-calendar').toggle();
          if($('#travel-date-range-field a').text().charCodeAt(0) == 9660) {
            // switch to up-arrow
            $('#travel-date-range-field a').html('&#9650;');
            $('#travel-date-range-field').css({borderBottomLeftRadius:0, borderBottomRightRadius:0});
            $('#travel-date-range-field a').css({borderBottomRightRadius:0});
          } else {
            // switch to down-arrow
            $('#travel-date-range-field a').html('&#9660;');
            $('#travel-date-range-field').css({borderBottomLeftRadius:5, borderBottomRightRadius:5});
            $('#travel-date-range-field a').css({borderBottomRightRadius:5});
          }
          return false;
        });

        // global click handler to hide the widget calendar when it's open, and
        // some other part of the document is clicked.  Note that this works best
        // defined out here rather than built in to the datepicker core because this
        // particular example is actually an 'inline' datepicker which is displayed
        // by an external event, unlike a non-inline datepicker which is automatically
        // displayed/hidden by clicks within/without the datepicker element and datepicker respectively
        $('html').click(function() {
          if($('#datepicker-calendar').is(":visible")) {
            $('#datepicker-calendar').hide();
            $('#date-range-field a').html('&#9660;');
            $('#date-range-field').css({borderBottomLeftRadius:5, borderBottomRightRadius:5});
            $('#date-range-field a').css({borderBottomRightRadius:5});
          }

		   if($('#travel-calendar').is(":visible")) {
            $('#travel-calendar').hide();
            $('#travel-date-range-field a').html('&#9660;');
            $('#travel-date-range-field').css({borderBottomLeftRadius:5, borderBottomRightRadius:5});
            $('#travel-date-range-field a').css({borderBottomRightRadius:5});
          }
        });

        // stop the click propagation when clicking on the calendar element
        // so that we don't close it
        $('#datepicker-calendar').click(function(event){
          event.stopPropagation();
        });

		$('#travel-calendar').click(function(event){
          event.stopPropagation();
        });



    </script>
<script>
$('#secondstep').click(function(){
var smsg='';
if ($("input[type='checkbox'][name='products[]']:checked").length == 0){
smsg = 1;
$('.products1').show();
$('.products1').html('Please select Products.');
}else{
$('.products1').hide();
$('.products1').html('');
}

if(smsg != ''){
	return false;
}else{
	nextt('secondstep');
	return true;
}
});
$('#firststep').click(function(){
var msg='';
if($('#firstname').val() == ""){
$('.firstname').show();
$('.firstname').html('First Name is required.');
msg = 1;
}else{
$('.firstname').hide();
$('.firstname').html('');

}
if($('#lastname').val() == ""){
$('.lastname').show();
$('.lastname').html('Last Name is required.');
msg = 1;
}else{
$('.lastname').hide();
$('.lastname').html('');
}
if($('#title').val() == ""){

$('.titles').show();
$('.titles').html('* Title is required.');
msg = 1;
}else{
$('.titles').hide();
$('.titles').html('');
}
if($('#phone').val() == ""){
$('.phone').show();
$('.phone').html('Phone Number is required.');
msg = 1;
}else{
$('.phone').hide();
$('.phone').html('');
}
if($('#email').val() == ""){
$('.emails').show();
$('.emails').html('E-mail is required.');
msg = 1;
}else{
$('.emails').hide();
$('.emails').html('');
}

if($('#email').val() != ""){
var filter = /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
    if (filter.test($('#email').val())) {
        $('.emails').hide();
		$('.emails').html('');
    }
    else {
		$('.emails').show();
		$('.emails').html('Valid E-mail is required.');
		msg = 1;
    }

}

if(msg != ''){
	return false;
}else{
	nextt('firststep');
	return true;
}
});
$('body').on('click','#submit',function(e){


var msg='';

if($('#date-range-field').find("span").text() == "Please select dates"){
msg = 1;
$('.projectdates').show();
$('.projectdates').html('Please select Project Dates.');
}else{
$('.projectdates').hide();
$('.projectdates').html('');
}

if($('#travel-date-range-field').find("span").text() == "Please select dates"){
msg = 1;
$('.traveldates').show();
$('.traveldates').html('Please select Travel Dates.');
}else{
$('.traveldates').hide();
$('.traveldates').html('');
}

if($('#assignment').val() == ""){
msg = 1;
$('.assignment').show();
$('.assignment').html('Please select Assignment.');
}else{
$('.assignment').hide();
$('.assignment').html('');
}

if($('#vendorcred').val() == ""){
msg = 1;
$('.vendorcred').show();
$('.vendorcred').html('Please select Vendor Credentialing.');
}else{
$('.vendorcred').hide();
$('.vendorcred').html('');
}

if($('#facility-select').val() == ""){
msg = 1;
$('.facility-select').show();
$('.facility-select').html('Facility Name is required.');
}else{
$('.facility-select').hide();
$('.facility-select').html('');
}

if($('#city').val() == ""){
msg = 1;
$('.city').show();
$('.city').html('City is required.');
}else{
$('.city').hide();
$('.city').html('');
}

if($('#state').val() == ""){
msg = 1;
$('.state').show();
$('.state').html('Please select State.');
}else{
$('.state').hide();
$('.state').html('');
}

if($('#zipcode').val() == ""){
msg = 1;
$('.zipcode').show();
$('.zipcode').html('Zipcode is required.');
}else{
$('.zipcode').hide();
$('.zipcode').html('');
}

$("input[type='text'][name='date[]']").each(function (index, elem) {

	if($(elem).val() == ""){
	msg = 1;
	$('.dates1').show();
	$('.dates1').html('Date is required.');

	}else{
	$('.dates1').hide();
	$('.dates1').html('');
	}
});
$("input[type='text'][name='noofpeople[]']").each(function (index, elem) {
	if($(elem).val() == ""){
	msg = 1;
	$('.no_of_people1').show();
	$('.no_of_people1').html('No.of People is required.');
	}else{
	$('.no_of_people1').hide();
	$('.no_of_people1').html('');
	}
});



if(msg != ''){
return false;
}else{
$( "#submit" ).prop( "disabled", false );
$( "#submit" ).val( "Sending.." );
$( "#submit" ).addClass("sending");

var prod = [];
$("input[name='products[]']:checked").each(function() {
    prod.push($(this).val());
});

var dt = [];
$("input[name='date[]']").each(function() {
    dt.push($(this).val());
});

var tpf = [];
$("select[name='timepickerfrom[]']").each(function() {
    tpf.push($(this).val());


});
var tpt = [];
$("select[name='timepickerto[]']").each(function() {
    tpt.push($(this).val());
});

var nop = [];
$("input[name='noofpeople[]']").each(function() {
    nop.push($(this).val());
});

var trav = $('#traveldates').val()
trav = trav.replace("&", "nb");
			$.ajax
					({
						type: "GET",
						url: "getdetails.php",
						data: 'fname='+$('#firstname').val()+'&lname='+$('#lastname').val()+'&title='+$('#title').val()+'&phone='+$('#phone').val()+'&email='+$('#email').val()+'&division='+$('#division').val()+'&projectdates='+$('#projectdates').val()+'&traveldates='+trav+'&assignment='+$('#assignment').val()+'&vendorcred='+$('#vendorcred').val()+'&facility='+$('#facility-select').val()+'&city='+$('#city').val()+'&state='+$('#state').val()+'&zipcode='+$('#zipcode').val()+'&additional_det='+$('#additional_det').val()+'&products='+prod+'&dates='+dt+'&tfrom='+tpf+'&tto='+tpt+'&nop='+nop,
						cache: false,
						async:false,
						success: function(res)
						{
							$('.details-div').html(res);
						}
					});

$(".stepttr").removeClass('stepttr').addClass('fstep');
$(".fstep").removeClass('visited');

nextt('submit');
return true;
}

});
var count = 20;
var counts = 21;
$('.add').click(function(){
var clone = '<div class="title">&nbsp;</div><div class="full" id="duplicate_'+count+'"><div class="form-tdn"><label>Date</label><input type="text" name="date[]" class="calendar-icon" id="datepicker'+count+'" /></div><div id="fromto_'+count+'"><div class="form-tdn"><label>From</label><select name="timepickerfrom[]" onchange="timepicker(this)"<option value="8:00 AM" selected="selected">8:00 AM</option><option value="8:15 AM">8:15 AM</option><option value="8:30 AM">8:30 AM</option><option value="8:45 AM">8:45 AM</option><option value="9:00 AM">9:00 AM</option><option value="9:15 AM">9:15 AM</option><option value="9:30 AM">9:30 AM</option><option value="9:45 AM">9:45 AM</option><option value="10:00 AM">10:00 AM</option><option value="10:15 AM">10:15 AM</option><option value="10:30 AM">10:30 AM</option><option value="10:45 AM">10:45 AM</option><option value="11:00 AM">11:00 AM</option><option value="11:15 AM">11:15 AM</option><option value="11:30 AM">11:30 AM</option><option value="11:45 AM">11:45 AM</option><option value="12:00 PM">12:00 PM</option><option value="12:15 PM">12:15 PM</option><option value="12:30 PM">12:30 PM</option><option value="12:45 PM">12:45 PM</option><option value="1:00 PM">1:00 PM</option><option value="1:15 PM">1:15 PM</option><option value="1:30 PM">1:30 PM</option><option value="1:45 PM">1:45 PM</option><option value="2:00 PM">2:00 PM</option><option value="2:15 PM">2:15 PM</option><option value="2:30 PM">2:30 PM</option><option value="2:45 PM">2:45 PM</option><option value="3:00 PM">3:00 PM</option><option value="3:15 PM">3:15 PM</option><option value="3:30 PM">3:30 PM</option><option value="3:45 PM">3:45 PM</option><option value="4:00 PM">4:00 PM</option><option value="4:15 PM">4:15 PM</option><option value="4:30 PM">4:30 PM</option><option value="4:45 PM">4:45 PM</option><option value="5:00 PM">5:00 PM</option></select></div><div class="form-tdn"><label>To &nbsp;</label><select name="timepickerto[]" onchange="timepicker(this)"><option value="8:00 AM" selected="selected">8:00 AM</option><option value="8:15 AM">8:15 AM</option><option value="8:30 AM">8:30 AM</option><option value="8:45 AM">8:45 AM</option><option value="9:00 AM">9:00 AM</option><option value="9:15 AM">9:15 AM</option><option value="9:30 AM">9:30 AM</option><option value="9:45 AM">9:45 AM</option><option value="10:00 AM">10:00 AM</option><option value="10:15 AM">10:15 AM</option><option value="10:30 AM">10:30 AM</option><option value="10:45 AM">10:45 AM</option><option value="11:00 AM">11:00 AM</option><option value="11:15 AM">11:15 AM</option><option value="11:30 AM">11:30 AM</option><option value="11:45 AM">11:45 AM</option><option value="12:00 PM">12:00 PM</option><option value="12:15 PM">12:15 PM</option><option value="12:30 PM">12:30 PM</option><option value="12:45 PM">12:45 PM</option><option value="1:00 PM">1:00 PM</option><option value="1:15 PM">1:15 PM</option><option value="1:30 PM">1:30 PM</option><option value="1:45 PM">1:45 PM</option><option value="2:00 PM">2:00 PM</option><option value="2:15 PM">2:15 PM</option><option value="2:30 PM">2:30 PM</option><option value="2:45 PM">2:45 PM</option><option value="3:00 PM">3:00 PM</option><option value="3:15 PM">3:15 PM</option><option value="3:30 PM">3:30 PM</option><option value="3:45 PM">3:45 PM</option><option value="4:00 PM">4:00 PM</option><option value="4:15 PM">4:15 PM</option><option value="4:30 PM">4:30 PM</option><option value="4:45 PM">4:45 PM</option><option value="5:00 PM" selected="selected">5:00 PM</option></select></div></div><div class="form-tdn"><label>Number of People</label><input type="text" name="noofpeople[]"></div><a class="right adds" href="javascript:void(0)" id="duplicate_'+count+'">Duplicate</a><a href="javascript:void(0)" class="right remove" id="remove_'+count+'" onclick="remove_row('+count+')">Remove Shift</a></div>';

$("div#clone:last").append(clone);

count+=2;



});


//jQuery time
var current_fs, next_fs, previous_fs; //fieldsets
<!-- jQuery -->
var left, opacity, scale; //fieldset properties which we will animate
var animating; //flag to prevent quick multi-click glitches

function nextt(step){

	if(animating) return false;
	animating = true;


	current_fs = $('#'+step).parents("fieldset");


	next_fs = $('#'+step).parents("fieldset").next();

	//activate next step on progressbar using the index of next_fs
	$("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");
	if($("fieldset").index(current_fs) != 2){
		$("#progressbar li").eq($("fieldset").index(current_fs)).addClass("visited");
	}

	//show the next fieldset
	next_fs.show();
	//hide the current fieldset with style
	current_fs.animate({opacity: 0}, {
		step: function(now, mx) {

			//as the opacity of current_fs reduces to 0 - stored in "now"
			//1. scale current_fs down to 80%
			scale = 1 - (1 - now) * 0.2;
			//2. bring next_fs from the right(50%)
			left = (now * 50)+"%";
			//3. increase opacity of next_fs to 1 as it moves in
			opacity = 1 - now;
			current_fs.css({'transform': 'scale('+scale+')'});
			next_fs.css({'left': left, 'opacity': opacity});
		},
		duration: 800,
		complete: function(){
			current_fs.hide();
			animating = false;
		},
		//this comes from the custom easing plugin
		easing: 'easeInOutBack'
	});
}

$(".previousprogress").click(function(){
	if(animating) return false;
	animating = true;

	current_fs = $(this).parents("fieldset");
	previous_fs = $(this).parents("fieldset").prev();

	//de-activate current step on progressbar
	$("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");
	$("#progressbar li").eq($("fieldset").index(previous_fs)).addClass("active");
		$("#progressbar li").eq($("fieldset").index(previous_fs)).removeClass("visited");

	//show the previous fieldset
	previous_fs.show();
	//hide the current fieldset with style
	current_fs.animate({opacity: 0}, {
		step: function(now, mx) {
			//as the opacity of current_fs reduces to 0 - stored in "now"
			//1. scale previous_fs from 80% to 100%
			scale = 0.8 + (1 - now) * 0.2;
			//2. take current_fs to the right(50%) - from 0%
			left = ((1-now) * 50)+"%";
			//3. increase opacity of previous_fs to 1 as it moves in
			opacity = 1 - now;
			current_fs.css({'left': left});
			previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
		},
		duration: 800,
		complete: function(){
			current_fs.hide();
			animating = false;
		},
		//this comes from the custom easing plugin
		easing: 'easeInOutBack'
	});
});
</script>
<style>
#msform {

	position: relative;
}
</style>
  <script>


  $('#division').change(function(){
  	var division = $('#division').val();
  	if(division == "Infusion"){
  		$('#infusion').show();
  		$('#critical').hide();
  	}else if(division == "Vascular"){
  		$('#infusion').hide();
  		$('#critical').show();
  	}
  });

  $('body').on('focus',".calendar-icon", function(){
    $(this).datepicker();
	});


  </script>

 <script>
		function getCityState(words) {
			var n = words.split("-");
			var n = n[1].split("-");

			var split = n[0].lastIndexOf(' ');

			var ret = [n[0].substring(0, split), n[0].substring(split)];
			return ret;
		}

		$('document').ready(function() {
			/* $('#facility-select').change(function() {
				var location = getCityState($(this).val());

				$('#city').val(location[0]);
				$('#state').val(location[1].trim());
			}); */

			/*$('#facility-select').keyup(function(){
			$('#update').show();
				var searchField = $('#facility-select').val();
				var myExp = new RegExp(searchField, 'i');
				$.getJSON('facilitydata.json', function(data){
				var output = '<ul class="searchresult">';
				$.each(data, function(key, val){
				if((val.name.search(myExp) != -1)) {
				output +="<li onclick=\"(fill('"+val.name+"'))\">";
				output +=val.name;
				output +='</li>';
				}
				});
				output += '</ul>';
				$('#update').html(output);
				});
			});*/
		});
	/*	function fill(Value){
		 $('#facility-select').val(Value);
			var location = getCityState(Value);

			$('#city').val(location[0]);
			$('#state').val(location[1].trim());

		}

		$( "#facility-select" ).blur(function() {
			setTimeout(function(){
			  $('#update').hide();
			}, 300);

		});*/

	</script>
